
/**
 * File generated by Atek tsgen
 * env=host
 * DO NOT MODIFY
 */
import { URL } from 'url';
import { ApiBrokerClient } from '@atek-cloud/api-broker';

export const ID = "atek.cloud/account-session-api";
export const REVISION = undefined;

export default class AccountSessionApiClient extends ApiBrokerClient {
  constructor() {
    super("atek.cloud/account-session-api")
  }

  whoami(): Promise<WhoamiResponse> {
    return this.$rpc("whoami", [])
  }

  login(opts: {username: string, password: string}): Promise<void> {
    return this.$rpc("login", [opts])
  }

  logout(): Promise<void> {
    return this.$rpc("logout", [])
  }
}

interface WhoamiResponse {
  hasSession: boolean;
  account?: {
      id: string
      username: string
    };
}
